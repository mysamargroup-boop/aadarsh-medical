(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{3673:()=>{},4213:(e,t,i)=>{Promise.resolve().then(i.t.bind(i,3673,23)),Promise.resolve().then(i.bind(i,5167))},5167:(e,t,i)=>{"use strict";i.d(t,{CartProvider:()=>o,_:()=>n});var r=i(5155),a=i(2115);let s=(0,a.createContext)(void 0);function o(e){let{children:t}=e,[i,o]=(0,a.useState)([]),[n,l]=(0,a.useState)([]),[c,u]=(0,a.useState)(!1);(0,a.useEffect)(()=>{let e=localStorage.getItem("cart");if(e)try{o(JSON.parse(e))}catch(e){console.error("Failed to parse cart",e)}let t=localStorage.getItem("wishlist");if(t)try{l(JSON.parse(t))}catch(e){console.error("Failed to parse wishlist",e)}},[]),(0,a.useEffect)(()=>{localStorage.setItem("cart",JSON.stringify(i))},[i]),(0,a.useEffect)(()=>{localStorage.setItem("wishlist",JSON.stringify(n))},[n]);let d=e=>{o(t=>t.filter(t=>t.id!==e))},f=i.reduce((e,t)=>e+t.quantity,0),h=i.reduce((e,t)=>e+t.price*t.quantity,0);return(0,r.jsx)(s.Provider,{value:{items:i,addToCart:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;o(i=>i.find(t=>t.id===e.id)?i.map(i=>i.id===e.id?{...i,quantity:i.quantity+t}:i):[...i,{id:e.id,name:e.name,company:e.company,price:e.price,img:e.img,quantity:t}])},removeFromCart:d,updateQuantity:(e,t)=>{if(t<=0)return void d(e);o(i=>i.map(i=>i.id===e?{...i,quantity:t}:i))},clearCart:()=>{o([])},wishlist:n,toggleWishlist:e=>{l(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},isCartOpen:c,setIsCartOpen:u,totalItems:f,totalPrice:h},children:t})}function n(){let e=(0,a.useContext)(s);if(void 0===e)throw Error("useCart must be used within a CartProvider");return e}}},e=>{e.O(0,[978,441,493,358],()=>e(e.s=4213)),_N_E=e.O()}]);